<mat-card appearance="outlined">
    <mat-card-content class="m-2">
        <h5>Monthly Totals by Expense Type</h5>
        <div class="chart-container">
            <div>
                <label for="month">Select Month: </label>
                <input type="month" id="month" (change)="onMonthChange($event)" [value]="year + '-' + (month + 1).toString().padStart(2, '0')">

                <div class="expense-summary mt-3">
                    <div *ngFor="let type of expenseTypes" class="expense-item">
                      <p>{{ type }}: <strong>{{ monthlyTotals[type] || 0 | currency }}</strong></p>
                    </div>
                  </div>
            </div>

            <div class="pie-chart" *ngIf="!noExpenses">
                <canvas 
                baseChart 
                [datasets]="chartData.datasets" 
                [labels]="chartData.labels" 
                [options]="chartOptions" 
                [type]="'doughnut'">
                </canvas>
            </div>
            <div *ngIf="noExpenses">
            No expenses for this month.
            </div>

        </div>
    </mat-card-content>
</mat-card>